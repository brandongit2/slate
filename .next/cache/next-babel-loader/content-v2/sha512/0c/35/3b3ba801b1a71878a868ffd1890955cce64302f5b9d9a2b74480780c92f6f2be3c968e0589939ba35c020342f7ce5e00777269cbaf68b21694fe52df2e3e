{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/brandon/slate/src/components/SubjectCard.tsx\",\n    _s = $RefreshSig$();\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { useEffect, useState } from 'react';\nimport styles from './SubjectCard.module.scss';\nimport { convertRemToPixels } from '../misc/util';\nvar width = 20;\nexport default function SubjectDescription(_ref) {\n  _s();\n\n  var name = _ref.name,\n      description = _ref.description,\n      color = _ref.color;\n\n  // Break subject header into multiple lines if necessary.\n  var _useState = useState([name, '']),\n      nameBroken = _useState[0],\n      setNameBroken = _useState[1];\n\n  useEffect(function () {\n    var el = document.createElement('p');\n    el.style.fontSize = '200%';\n    el.style.fontWeight = '800';\n    el.style.position = 'fixed';\n    document.body.appendChild(el);\n    var broken = name.split(String.fromCharCode(0xad));\n    var str = '';\n    var len = 0;\n\n    var _iterator = _createForOfIteratorHelper(broken),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var frag = _step.value;\n        str += frag;\n        el.innerHTML = str; // Subject name cannot exceed 70% width of parent\n\n        if (el.clientWidth > convertRemToPixels(width - 2) * 0.7) {\n          // If the second line would be awkwardly short\n          if (name.length - len < 3) len = str.length;\n          break;\n        }\n\n        len = str.length;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    el.remove();\n    name = name.replaceAll(String.fromCharCode(0xad), '');\n    setNameBroken([name.slice(0, len), name.slice(len)]);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.animation,\n      style: {\n        width: \"\".concat(width, \"rem\")\n      },\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          transform: 'translate(-50%, -50%)'\n        },\n        children: \"[PLACEHOLDER]\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.info,\n      style: {\n        width: \"\".concat(width - 2, \"rem\")\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles['info--description'],\n        style: {\n          color: \"#\".concat(color)\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles['info--title'],\n          style: {\n            background: \"#\".concat(color)\n          },\n          children: nameBroken[0] + (nameBroken[1] === '' ? '' : '-')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles['info--title'],\n          style: {\n            clear: 'left',\n            background: \"#\".concat(color)\n          },\n          children: nameBroken[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), description]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SubjectDescription, \"CEw4++sPa2K4Fp4QEPsXC2jio5g=\");\n\n_c = SubjectDescription;\n\nvar _c;\n\n$RefreshReg$(_c, \"SubjectDescription\");","map":{"version":3,"sources":["/home/brandon/slate/src/components/SubjectCard.tsx"],"names":["useEffect","useState","styles","convertRemToPixels","width","SubjectDescription","name","description","color","nameBroken","setNameBroken","el","document","createElement","style","fontSize","fontWeight","position","body","appendChild","broken","split","String","fromCharCode","str","len","frag","innerHTML","clientWidth","length","remove","replaceAll","slice","animation","top","left","transform","info","background","clear"],"mappings":"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","sourcesContent":["import {useEffect, useState} from 'react';\n\nimport styles from './SubjectCard.module.scss';\nimport {convertRemToPixels} from '../misc/util';\n\nconst width = 20;\n\nexport default function SubjectDescription({\n    name,\n    description,\n    color\n}: {\n    name: string;\n    description: string;\n    color: string;\n}) {\n    // Break subject header into multiple lines if necessary.\n    const [nameBroken, setNameBroken] = useState([name, '']);\n    useEffect(() => {\n        let el = document.createElement('p');\n        el.style.fontSize = '200%';\n        el.style.fontWeight = '800';\n        el.style.position = 'fixed';\n        document.body.appendChild(el);\n\n        let broken = name.split(String.fromCharCode(0xad));\n        let str = '';\n        let len = 0;\n        for (let frag of broken) {\n            str += frag;\n            el.innerHTML = str;\n\n            // Subject name cannot exceed 70% width of parent\n            if (el.clientWidth > convertRemToPixels(width - 2) * 0.7) {\n                // If the second line would be awkwardly short\n                if (name.length - len < 3) len = str.length;\n\n                break;\n            }\n            len = str.length;\n        }\n\n        el.remove();\n\n        name = name.replaceAll(String.fromCharCode(0xad), '');\n        setNameBroken([name.slice(0, len), name.slice(len)]);\n    }, []);\n\n    return (\n        <>\n            <div\n                className={styles.animation}\n                style={{\n                    width: `${width}rem`\n                }}\n            >\n                <span\n                    style={{\n                        position: 'absolute',\n                        top: '50%',\n                        left: '50%',\n                        transform: 'translate(-50%, -50%)'\n                    }}\n                >\n                    [PLACEHOLDER]\n                </span>\n            </div>\n            <div\n                className={styles.info}\n                style={{\n                    width: `${width - 2}rem`\n                }}\n            >\n                <p\n                    className={styles['info--description']}\n                    style={{\n                        color: `#${color}`\n                    }}\n                >\n                    <span\n                        className={styles['info--title']}\n                        style={{\n                            background: `#${color}`\n                        }}\n                    >\n                        {nameBroken[0] + (nameBroken[1] === '' ? '' : '-')}\n                    </span>\n                    <span\n                        className={styles['info--title']}\n                        style={{\n                            clear: 'left',\n                            background: `#${color}`\n                        }}\n                    >\n                        {nameBroken[1]}\n                    </span>\n                    {description}\n                </p>\n            </div>\n        </>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}