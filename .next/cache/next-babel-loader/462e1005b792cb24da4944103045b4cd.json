{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/brandontsang/projects/slate/src/components/dashboard/ContentManagerArticle.tsx\",\n    _s = $RefreshSig$();\n\nimport { motion, useDragControls } from 'framer-motion';\nimport { useContext, useLayoutEffect, useRef, useState } from 'react';\nimport styles from './ContentManagerArticle.module.scss';\nimport { ContentManagerContext } from '../../contexts/contentManager';\nexport default function ContentManagerArticle(_ref) {\n  _s();\n\n  var article = _ref.article,\n      isReordering = _ref.isReordering,\n      startReorder = _ref.startReorder,\n      updateYPositions = _ref.updateYPositions;\n\n  var _useContext = useContext(ContentManagerContext),\n      removeObject = _useContext.fns.removeObject;\n\n  var reorderButton = useRef(null);\n  var dragControls = useDragControls();\n\n  var _useState = useState(false),\n      selected = _useState[0],\n      setSelected = _useState[1];\n\n  useLayoutEffect(updateYPositions);\n\n  function removeSelf() {\n    removeObject(article, article.parent);\n  }\n\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"article \".concat(styles.article, \" \").concat(selected ? styles.selected : ''),\n    layoutId: article.uuid,\n    transition: {\n      ease: 'easeInOut',\n      duration: isReordering ? 0.2 : 0\n    },\n    drag: true,\n    dragControls: dragControls,\n    onDragStart: function onDragStart(evt, info) {\n      setSelected(true); // Prevent dragging unless event target is reorder button\n      // https://github.com/framer/motion/issues/363#issuecomment-621355442\n\n      if (evt.target !== reorderButton.current) {\n        dragControls.componentControls.forEach(function (entry) {\n          entry.stop(evt, info);\n        });\n        setSelected(false);\n        return;\n      }\n\n      if (startReorder) {\n        startReorder(evt, article);\n      }\n    },\n    onDragEnd: function onDragEnd() {\n      setSelected(false);\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: styles['article__label'],\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles['label--name'],\n        children: article.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n        className: styles['label--author'],\n        children: [\"by \", article.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles['article__controls'],\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons-sharp\",\n          children: \"create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons-sharp\",\n          children: \"content_copy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: removeSelf,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons-sharp\",\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons-sharp\",\n          style: {\n            cursor: 'move'\n          },\n          ref: reorderButton,\n          children: \"drag_indicator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ContentManagerArticle, \"NeDlGuL2VzLRN0ujqwLiGRZPZ+E=\", false, function () {\n  return [useDragControls];\n});\n\n_c = ContentManagerArticle;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContentManagerArticle\");","map":{"version":3,"sources":["/Users/brandontsang/projects/slate/src/components/dashboard/ContentManagerArticle.tsx"],"names":["motion","useDragControls","useContext","useLayoutEffect","useRef","useState","styles","ContentManagerContext","ContentManagerArticle","article","isReordering","startReorder","updateYPositions","removeObject","fns","reorderButton","dragControls","selected","setSelected","removeSelf","parent","uuid","ease","duration","evt","info","target","current","componentControls","forEach","entry","stop","name","author","cursor"],"mappings":"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","sourcesContent":["import {motion, useDragControls} from 'framer-motion';\nimport {useContext, useLayoutEffect, useRef, useState} from 'react';\n\nimport styles from './ContentManagerArticle.module.scss';\nimport {ContentManagerContext} from '../../contexts/contentManager';\nimport {Article, Folder} from '../../defs/content';\n\nexport default function ContentManagerArticle({\n    article,\n    isReordering,\n    startReorder,\n    updateYPositions\n}: {\n    article: Article;\n    isReordering: boolean;\n    startReorder: (evt: MouseEvent, content: Folder | Article) => void;\n    updateYPositions: () => void;\n}) {\n    const {\n        fns: {removeObject}\n    } = useContext(ContentManagerContext);\n    const reorderButton = useRef(null);\n    const dragControls = useDragControls();\n\n    const [selected, setSelected] = useState(false);\n\n    useLayoutEffect(updateYPositions);\n\n    function removeSelf() {\n        removeObject(article, article.parent);\n    }\n\n    return (\n        <motion.div\n            className={`article ${styles.article} ${\n                selected ? styles.selected : ''\n            }`}\n            layoutId={article.uuid}\n            transition={{ease: 'easeInOut', duration: isReordering ? 0.2 : 0}}\n            drag\n            dragControls={dragControls}\n            onDragStart={(evt, info) => {\n                setSelected(true);\n\n                // Prevent dragging unless event target is reorder button\n                // https://github.com/framer/motion/issues/363#issuecomment-621355442\n                if (evt.target !== reorderButton.current) {\n                    (dragControls as any).componentControls.forEach(\n                        (entry: any) => {\n                            entry.stop(evt, info);\n                        }\n                    );\n                    setSelected(false);\n                    return;\n                }\n\n                if (startReorder) {\n                    startReorder(evt as MouseEvent, article);\n                }\n            }}\n            onDragEnd={() => {\n                setSelected(false);\n            }}\n        >\n            <p className={styles['article__label']}>\n                <span className={styles['label--name']}>{article.name}</span>{' '}\n                <span className={styles['label--author']}>\n                    by {article.author}\n                </span>\n            </p>\n            <div className={styles['article__controls']}>\n                <button>\n                    <span className=\"material-icons-sharp\">create</span>\n                </button>\n                <button>\n                    <span className=\"material-icons-sharp\">content_copy</span>\n                </button>\n                <button onClick={removeSelf}>\n                    <span className=\"material-icons-sharp\">delete</span>\n                </button>\n                <button>\n                    <span\n                        className=\"material-icons-sharp\"\n                        style={{cursor: 'move'}}\n                        ref={reorderButton}\n                    >\n                        drag_indicator\n                    </span>\n                </button>\n            </div>\n        </motion.div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}