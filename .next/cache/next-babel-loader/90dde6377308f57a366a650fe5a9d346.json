{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/brandontsang/projects/slate/src/pages/dashboard.tsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport { useAuth0 } from '@auth0/auth0-react';\nimport Head from 'next/head';\nimport styles from './dashboard.module.scss';\nimport { apiLocation } from '../config.json';\nimport ActionList from '../components/dashboard/ActionList';\nimport ContentManager from '../components/dashboard/ContentManager';\nimport { ContentManagerContext } from '../contexts/contentManager';\nimport { useContentManager } from '../hooks/contentManager';\nexport default function Dashboard({\n  root\n}) {\n  const {\n    isAuthenticated,\n    isLoading,\n    loginWithRedirect,\n    logout,\n    user\n  } = useAuth0();\n  const {\n    undoStack,\n    actions,\n    loadedContent,\n    undo,\n    redo,\n    addObject,\n    removeObject,\n    modifyObject,\n    moveObjectDown,\n    moveObjectUp,\n    loadContent\n  } = useContentManager(root);\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 16\n    }, this);\n  } else {\n    if (isAuthenticated) {\n      return /*#__PURE__*/_jsxDEV(ContentManagerContext.Provider, {\n        value: {\n          user,\n          actions,\n          loadedContent,\n          loadContent,\n          fns: {\n            addObject,\n            removeObject,\n            modifyObject,\n            moveObjectDown,\n            moveObjectUp\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"jsx-3280205990\" + \" \" + (styles.root || \"\"),\n          children: [/*#__PURE__*/_jsxDEV(Head, {\n            children: /*#__PURE__*/_jsxDEV(\"title\", {\n              className: \"jsx-3280205990\",\n              children: \"Slate Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n            id: \"3280205990\",\n            children: \"@font-face{src:url('/RobotoMono-VariableFont_wght.ttf');font-family:'Roboto Mono';font-weight:100 700;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmFuZG9udHNhbmcvcHJvamVjdHMvc2xhdGUvc3JjL3BhZ2VzL2Rhc2hib2FyZC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMkQyQyxBQUc4RSw2Q0FDbkIsMEJBQ04sb0JBQ3hCIiwiZmlsZSI6Ii9Vc2Vycy9icmFuZG9udHNhbmcvcHJvamVjdHMvc2xhdGUvc3JjL3BhZ2VzL2Rhc2hib2FyZC50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3VzZUF1dGgwfSBmcm9tICdAYXV0aDAvYXV0aDAtcmVhY3QnO1xuaW1wb3J0IHtHZXRTdGF0aWNQcm9wc30gZnJvbSAnbmV4dCc7XG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vZGFzaGJvYXJkLm1vZHVsZS5zY3NzJztcbmltcG9ydCB7YXBpTG9jYXRpb259IGZyb20gJy4uL2NvbmZpZy5qc29uJztcbmltcG9ydCBBY3Rpb25MaXN0IGZyb20gJy4uL2NvbXBvbmVudHMvZGFzaGJvYXJkL0FjdGlvbkxpc3QnO1xuaW1wb3J0IENvbnRlbnRNYW5hZ2VyIGZyb20gJy4uL2NvbXBvbmVudHMvZGFzaGJvYXJkL0NvbnRlbnRNYW5hZ2VyJztcbmltcG9ydCB7Q29udGVudE1hbmFnZXJDb250ZXh0fSBmcm9tICcuLi9jb250ZXh0cy9jb250ZW50TWFuYWdlcic7XG5pbXBvcnQge1Jvb3R9IGZyb20gJy4uL2RlZnMvY29udGVudCc7XG5pbXBvcnQge3VzZUNvbnRlbnRNYW5hZ2VyfSBmcm9tICcuLi9ob29rcy9jb250ZW50TWFuYWdlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERhc2hib2FyZCh7cm9vdH06IHtyb290OiBSb290fSkge1xuICAgIGNvbnN0IHtcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkLFxuICAgICAgICBpc0xvYWRpbmcsXG4gICAgICAgIGxvZ2luV2l0aFJlZGlyZWN0LFxuICAgICAgICBsb2dvdXQsXG4gICAgICAgIHVzZXJcbiAgICB9ID0gdXNlQXV0aDAoKTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgdW5kb1N0YWNrLFxuICAgICAgICBhY3Rpb25zLFxuICAgICAgICBsb2FkZWRDb250ZW50LFxuICAgICAgICB1bmRvLFxuICAgICAgICByZWRvLFxuICAgICAgICBhZGRPYmplY3QsXG4gICAgICAgIHJlbW92ZU9iamVjdCxcbiAgICAgICAgbW9kaWZ5T2JqZWN0LFxuICAgICAgICBtb3ZlT2JqZWN0RG93bixcbiAgICAgICAgbW92ZU9iamVjdFVwLFxuICAgICAgICBsb2FkQ29udGVudFxuICAgIH0gPSB1c2VDb250ZW50TWFuYWdlcihyb290KTtcblxuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuIDxkaXY+bG9hZGluZy4uLjwvZGl2PjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxDb250ZW50TWFuYWdlckNvbnRleHQuUHJvdmlkZXJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRDb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZm5zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkT2JqZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZU9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZnlPYmplY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZU9iamVjdERvd24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92ZU9iamVjdFVwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLnJvb3R9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEhlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRpdGxlPlNsYXRlIERhc2hib2FyZDwvdGl0bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0hlYWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3R5bGUganN4IGdsb2JhbD57YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBmb250LWZhY2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM6IHVybCgnL1JvYm90b01vbm8tVmFyaWFibGVGb250X3dnaHQudHRmJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnUm9ib3RvIE1vbm8nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogMTAwIDcwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBgfTwvc3R5bGU+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aGVhZGVyIGNsYXNzTmFtZT17c3R5bGVzLmhlYWRlcn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9XCIvbG9nb3R5cGUtZGFzaGJvYXJkLnN2Z1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzWydoZWFkZXJfX2xvZ28nXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50bHkgbG9nZ2VkIGluIGFzeycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGI+e3VzZXIubmFtZS50b0xvd2VyQ2FzZSgpfTwvYj4ueycgJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZyBvdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvaGVhZGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlc1snY29udGVudC1tYW5hZ2VyJ119PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb250ZW50TWFuYWdlciAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzWydhY3Rpb24tbGlzdCddfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8QWN0aW9uTGlzdCAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzWydjb250cm9sLXBhbmVsJ119PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtzdHlsZXNbJ2NvbnRyb2wtcGFuZWxfX2J1dHRvbiddfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6ICcwLjVyZW0nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3VuZG99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXthY3Rpb25zLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zLXNoYXJwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzWydjb250cm9sLXBhbmVsX19idXR0b24nXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17cmVkb31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3VuZG9TdGFjay5sZW5ndGggPT09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29ucy1zaGFycFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9Db250ZW50TWFuYWdlckNvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICBub3QgbG9nZ2VkIGluLiBjbGlja3snICd9XG4gICAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9naW5XaXRoUmVkaXJlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFVyaTogYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9kYXNoYm9hcmRgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICBoZXJlXG4gICAgICAgICAgICAgICAgICAgIDwvYT57JyAnfVxuICAgICAgICAgICAgICAgICAgICB0byBsb2cgaW4uXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUHJvcHM6IEdldFN0YXRpY1Byb3BzID0gYXN5bmMgKCkgPT4ge1xuICAgIGxldCByb290ID0gYXdhaXQgKFxuICAgICAgICBhd2FpdCBmZXRjaChgJHthcGlMb2NhdGlvbn0vY29udGVudC9yb290P2h5cGhlbmF0ZT17XCJkZXNjcmlwdGlvblwiOjF9YClcbiAgICApLmpzb24oKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHByb3BzOiB7XG4gICAgICAgICAgICByb290XG4gICAgICAgIH1cbiAgICB9O1xufTtcbiJdfQ== */\\n/*@ sourceURL=/Users/brandontsang/projects/slate/src/pages/dashboard.tsx */\"\n          }, void 0, false, void 0, this), /*#__PURE__*/_jsxDEV(\"header\", {\n            className: \"jsx-3280205990\" + \" \" + (styles.header || \"\"),\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/logotype-dashboard.svg\",\n              className: \"jsx-3280205990\" + \" \" + (styles['header__logo'] || \"\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"jsx-3280205990\",\n              children: [\"currently logged in as\", ' ', /*#__PURE__*/_jsxDEV(\"b\", {\n                className: \"jsx-3280205990\",\n                children: user.name.toLowerCase()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 33\n              }, this), \".\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n                onClick: () => {\n                  logout();\n                },\n                className: \"jsx-3280205990\",\n                children: \"log out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jsx-3280205990\" + \" \" + (styles['content-manager'] || \"\"),\n            children: /*#__PURE__*/_jsxDEV(ContentManager, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jsx-3280205990\" + \" \" + (styles['action-list'] || \"\"),\n            children: /*#__PURE__*/_jsxDEV(ActionList, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"jsx-3280205990\" + \" \" + (styles['control-panel'] || \"\"),\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                marginRight: '0.5rem'\n              },\n              onClick: undo,\n              disabled: actions.length === 0,\n              className: \"jsx-3280205990\" + \" \" + (styles['control-panel__button'] || \"\"),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"jsx-3280205990\" + \" \" + \"material-icons-sharp\",\n                children: \"undo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: redo,\n              disabled: undoStack.length === 0,\n              className: \"jsx-3280205990\" + \" \" + (styles['control-panel__button'] || \"\"),\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"jsx-3280205990\" + \" \" + \"material-icons-sharp\",\n                children: \"redo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"not logged in. click\", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: () => {\n            loginWithRedirect({\n              redirectUri: `http://localhost:3000/dashboard`\n            });\n          },\n          children: \"here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), ' ', \"to log in.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this);\n    }\n  }\n}\nexport const getStaticProps = async () => {\n  let root = await (await fetch(`${apiLocation}/content/root?hyphenate={\"description\":1}`)).json();\n  return {\n    props: {\n      root\n    }\n  };\n};","map":{"version":3,"sources":["/Users/brandontsang/projects/slate/src/pages/dashboard.tsx"],"names":["useAuth0","Head","styles","apiLocation","ActionList","ContentManager","ContentManagerContext","useContentManager","Dashboard","root","isAuthenticated","isLoading","loginWithRedirect","logout","user","undoStack","actions","loadedContent","undo","redo","addObject","removeObject","modifyObject","moveObjectDown","moveObjectUp","loadContent","fns","header","name","toLowerCase","marginRight","length","redirectUri","getStaticProps","fetch","json","props"],"mappings":"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","sourcesContent":["import {useAuth0} from '@auth0/auth0-react';\nimport {GetStaticProps} from 'next';\nimport Head from 'next/head';\n\nimport styles from './dashboard.module.scss';\nimport {apiLocation} from '../config.json';\nimport ActionList from '../components/dashboard/ActionList';\nimport ContentManager from '../components/dashboard/ContentManager';\nimport {ContentManagerContext} from '../contexts/contentManager';\nimport {Root} from '../defs/content';\nimport {useContentManager} from '../hooks/contentManager';\n\nexport default function Dashboard({root}: {root: Root}) {\n    const {\n        isAuthenticated,\n        isLoading,\n        loginWithRedirect,\n        logout,\n        user\n    } = useAuth0();\n\n    const {\n        undoStack,\n        actions,\n        loadedContent,\n        undo,\n        redo,\n        addObject,\n        removeObject,\n        modifyObject,\n        moveObjectDown,\n        moveObjectUp,\n        loadContent\n    } = useContentManager(root);\n\n    if (isLoading) {\n        return <div>loading...</div>;\n    } else {\n        if (isAuthenticated) {\n            return (\n                <ContentManagerContext.Provider\n                    value={{\n                        user,\n                        actions,\n                        loadedContent,\n                        loadContent,\n                        fns: {\n                            addObject,\n                            removeObject,\n                            modifyObject,\n                            moveObjectDown,\n                            moveObjectUp\n                        }\n                    }}\n                >\n                    <div className={styles.root}>\n                        <Head>\n                            <title>Slate Dashboard</title>\n                        </Head>\n                        <style jsx global>{`\n                            @font-face {\n                                src: url('/RobotoMono-VariableFont_wght.ttf');\n                                font-family: 'Roboto Mono';\n                                font-weight: 100 700;\n                            }\n                        `}</style>\n                        <header className={styles.header}>\n                            <img\n                                src=\"/logotype-dashboard.svg\"\n                                className={styles['header__logo']}\n                            />\n                            <span>\n                                currently logged in as{' '}\n                                <b>{user.name.toLowerCase()}</b>.{' '}\n                                <a\n                                    onClick={() => {\n                                        logout();\n                                    }}\n                                >\n                                    log out\n                                </a>\n                            </span>\n                        </header>\n                        <div className={styles['content-manager']}>\n                            <ContentManager />\n                        </div>\n                        <div className={styles['action-list']}>\n                            <ActionList />\n                        </div>\n                        <div className={styles['control-panel']}>\n                            <button\n                                className={styles['control-panel__button']}\n                                style={{\n                                    marginRight: '0.5rem'\n                                }}\n                                onClick={undo}\n                                disabled={actions.length === 0}\n                            >\n                                <span className=\"material-icons-sharp\">\n                                    undo\n                                </span>\n                            </button>\n                            <button\n                                className={styles['control-panel__button']}\n                                onClick={redo}\n                                disabled={undoStack.length === 0}\n                            >\n                                <span className=\"material-icons-sharp\">\n                                    redo\n                                </span>\n                            </button>\n                        </div>\n                    </div>\n                </ContentManagerContext.Provider>\n            );\n        } else {\n            return (\n                <div>\n                    not logged in. click{' '}\n                    <a\n                        onClick={() => {\n                            loginWithRedirect({\n                                redirectUri: `http://localhost:3000/dashboard`\n                            });\n                        }}\n                    >\n                        here\n                    </a>{' '}\n                    to log in.\n                </div>\n            );\n        }\n    }\n}\n\nexport const getStaticProps: GetStaticProps = async () => {\n    let root = await (\n        await fetch(`${apiLocation}/content/root?hyphenate={\"description\":1}`)\n    ).json();\n\n    return {\n        props: {\n            root\n        }\n    };\n};\n"]},"metadata":{},"sourceType":"module"}